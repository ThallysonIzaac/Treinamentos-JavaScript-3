<html>
    <body>
        <style>
            .player-options img,
            .inimigo-options img{
                max-width: 200px;
                opacity: 0.3;
                cursor: pointer;
            }
            .player-options,.inimigo-options{
                width: 50%;
            }
            .align{
                display: flex;
            }
        </style>
        <h1 style="text-align: center;">Pedra, Papel ou tesoura!</h1>
        <h2 style="text-align: center;" class="vencedor"></h2>
        <hr>
        <div class="align">
            <div class="player-options">
                <div><img opt="pedra" src="pedra.png"/></div>
                <div><img opt="papel" src="papel.png"/></div>
                <div><img opt="tesoura" src="tesoura.png"/></div>

            </div>
            <div class="inimigo-options">
                <div><img opt="pedra" src="pedra.png"/></div>
                <div><img opt="papel" src="papel.png"/></div>
                <div><img opt="tesoura" src="tesoura.png"/></div>

            </div>
        </div>
        <script>
            var elementos = document.querySelectorAll(".player-options div > img");
            var playerOpt = "";
            var inimigoOpt = "";
            function validarVitoria(){
                let vencedor = document.querySelector(".vencedor");
                if(playerOpt=="papel"){
                    if(inimigoOpt == "papel"){
                        //empate
                        vencedor.innerHTML="Empate!";
                    }else if(inimigoOpt=="tesoura"){
                        //inimigo ganhou
                        vencedor.innerHTML="Derrota!";
                    }else if(inimigoOpt=="pedra"){
                        //eu ganhei
                        vencedor.innerHTML="Vitória!";
                    }
                }else if(playerOpt=="pedra"){
                    if(inimigoOpt == "papel"){
                        //inimigo ganhou
                        vencedor.innerHTML="Derrota!";
                    }else if(inimigoOpt=="tesoura"){
                        //eu ganhei
                        vencedor.innerHTML="Vitória!";
                    }else if(inimigoOpt=="pedra"){
                        //empate
                        vencedor.innerHTML="Empate!";
                    }
                }else if(playerOpt=="tesoura"){
                    if(inimigoOpt == "papel"){
                        //eu ganhei
                        vencedor.innerHTML="Vitória!";
                    }else if(inimigoOpt=="tesoura"){
                        //empate
                        vencedor.innerHTML="Empate!";
                    }else if(inimigoOpt=="pedra"){
                        //inimigo ganhou
                        vencedor.innerHTML="Derrota!";
                    }
                }
            }
            function resetInimigo(){
                const inimigoOptions = document.querySelectorAll(".inimigo-options div");
                for(var i = 0;i < inimigoOptions.length; i++){
                    
                    inimigoOptions[i].childNodes[0].style.opacity=0.3;
                    
                }
            }
            function inimigoJogar(){
                let rand = Math.floor(Math.random()*3);
                const inimigoOptions = document.querySelectorAll(".inimigo-options div");
                resetInimigo();
                for(var i = 0;i < inimigoOptions.length; i++){
                    if(i==rand){
                        inimigoOptions[i].childNodes[0].style.opacity=1;
                        inimigoOpt = inimigoOptions[i].childNodes[0].getAttribute("opt");
                    }
                }
                validarVitoria();
                //alert(playerOpt);
                //alert(inimigoOpt);
            
            }
            function resetOpacityPlayer(){
                for(var i = 0; i < elementos.length; i++){
                    elementos[i].style.opacity=0.3;
                }
            }
            for(var i = 0; i < elementos.length; i++){
                elementos[i].addEventListener("click",function(t){
                    resetOpacityPlayer();
                    t.target.style.opacity=1;
                    playerOpt = t.target.getAttribute("opt");

                    inimigoJogar();
                    //alert(playerOpt);
                });
            }
        </script>
    </body>
</html>